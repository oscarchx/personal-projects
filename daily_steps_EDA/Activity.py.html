#!/usr/bin/env python
# coding: utf-8

# In[2]:


from datascience import *
import numpy as np
get_ipython().run_line_magic('matplotlib', 'inline')
import matplotlib.pyplot as plt
plt.style.use('fivethirtyeight')
import warnings
warnings.simplefilter(action="ignore", category=FutureWarning)
import pandas as pd
from datetime import date

from urllib.request import urlopen 
import re
def read_url(url): 
    return re.sub('\\s+', ' ', urlopen(url).read().decode())


# In[3]:


activity = pd.read_csv('Health Data.csv',parse_dates=True,index_col='Start')


# In[4]:


activity = activity.drop('Finish',axis=1)


# In[5]:


activity.head()


# In[6]:


activity.info()


# In[7]:


activity.describe()


# In[8]:


activity.loc['May, 2019']


# In[9]:


activity.loc['2019-05-18']


# In[10]:


table = Table.read_table('Health Data.csv')


# In[11]:


table.sort('Steps (count)',descending=True)


# In[12]:


activity.sort_values('Steps (count)',ascending=True)


# In[13]:


activity['Steps (count)'].mean()


# In[14]:


activity['Steps (count)'].plot(title='Walking Evolution 2019')
plt.ylabel('Steps')
plt.xlabel('Date')
plt.show()


# In[16]:


plt.hist(activity['Steps (count)'])


# In[43]:


len(activity['Steps (count)'])


# In[45]:


steps = activity['Steps (count)'].values


# In[48]:


steps_table = Table().with_column('Steps',steps)


# In[50]:


averages = make_array() 
for i in np.arange(10000):
    resample = steps_table.sample()
    sample_average = np.mean(resample.column('Steps')) 
    averages = np.append(averages,sample_average)


# In[51]:


plt.hist(averages)


# In[52]:


CI = [percentile(2.5,averages),percentile(97.5,averages)]


# In[53]:


CI

